<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <img id="img" width="400" height="400" />
</body>
<script type="module">
    const wasm = import("./pkg/wasm.js");
    wasm.then(v_sk => {
        window.v_sk = v_sk;
        v_sk.default().then(() => {
            const container = new v_sk.Container();
            console.log(container);
            console.log(container.debug())
            console.log(container.createNodeOnParentReturnNodeID(1))
            console.log(container.createNodeOnParentReturnNodeID(1))
            console.log(container.createNodeOnParentReturnNodeID(1))
            console.log(container.createNodeOnParentReturnNodeID(4))
            console.log(container.createNodeOnParentReturnNodeID(4))
            console.log(container.createNodeOnParentReturnNodeID(4))
            container.setXYWHBByNodeID(1, 0, 0, 500, 500, 100, 255, 0, 0);
            container.setXYWHBByNodeID(5, 0, 0, 10, 10, 100, 255, 0, 0);
            container.setXYWHBByNodeID(2, 20, 0, 340, 10, 100, 255, 0, 0);
            container.setXYWHBByNodeID(7, 100, 30, 300, 300, 100, 0, 255, 0);
            container.createNodeOnParentReturnNodeID(7)
            container.createNodeOnParentReturnNodeID(8)
            container.createNodeOnParentReturnNodeID(8)
            container.setXYWHBByNodeID(8, 20, 10, 40, 10, 100, 0, 255, 0);
            container.setXYWHBByNodeID(9, 60, 8, 60, 10, 100, 255, 0, 255);
            container.setXYWHBByNodeID(10, 99, 3, 290, 40, 100, 0, 0, 255);
            container.createNodeOnParentReturnNodeID(8)
            container.setXYWHBByNodeID(10, 160, 160, 100, 100, 100, 0, 0, 255);

            console.log(container.debug())
            console.log(container.renderRootToStream())

            const base64 = container.renderRootToBase64();
            window.b = base64;
            document.getElementById("img").setAttribute("src", base64);
        })
    });
</script>
</html>